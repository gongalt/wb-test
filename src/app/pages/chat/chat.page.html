<app-header  title="Gezond Thuis werken"></app-header>

<ion-content [fullscreen]="true">
  <ion-grid>  
    <ion-row *ngFor="let message of messages">
      <ion-col size="9" *ngIf="currentUser !== message?.user" class="message other-message">
        <h5>{{ message?.user }}</h5>
        <span>{{ message?.msg }}</span>
        <div class="time ion-text-end" >
          {{ message?.createdAt | date:'HH:mm'}}
        </div>
      </ion-col>
      
      <ion-col size="9" offset="3" *ngIf="currentUser === message?.user" class="message my-message">
        <span>{{ message?.msg }}</span>
        <div class="time ion-text-end" >
          {{ message?.createdAt | date:'HH:mm'}}
        </div>
      </ion-col>

    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <ion-toolbar color="light">
      <ion-row align-items-center no-padding>
        <ion-col size="10">
          <textarea autosize [(ngModel)]="newMessage" placeholder="Message here..." (keyup.enter)="sendMessage()" class="message-input"></textarea>
        </ion-col>
        <ion-col size="2">
          <ion-button fill="clear" color="secondary" [disabled]="newMessage === ''" class="message-btn"  (click)="sendMessage()">
            <ion-icon  slot="icon-only" name="send"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
  </ion-toolbar>
</ion-footer>